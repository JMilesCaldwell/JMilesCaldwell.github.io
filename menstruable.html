<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menstruable - Cycle Activity Insights</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 40px 30px;
            text-align: center;
            color: white;
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .tagline {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #f093fb;
            padding-bottom: 10px;
        }

        .cycle-inputs {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .cycle-entry {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .cycle-entry:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .cycle-entry label {
            font-weight: 600;
            min-width: 100px;
            color: #495057;
        }

        .cycle-entry input[type="date"] {
            flex: 1;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .cycle-entry input[type="date"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
        }

        .btn-add {
            background: #28a745;
            color: white;
        }

        .btn-add:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .btn-nav {
            padding: 8px 20px;
            background: #6c757d;
            color: white;
            font-size: 0.9em;
        }

        .btn-nav:hover {
            background: #5a6268;
        }

        .results {
            display: none;
        }

        .results.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Calendar Styles */
        .calendar-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .calendar-header h3 {
            font-size: 1.8em;
            color: #495057;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 700;
            color: #667eea;
            padding: 10px;
            font-size: 0.9em;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            min-height: 70px;
        }

        .calendar-day:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .calendar-day.empty {
            background: transparent;
            cursor: default;
        }

        .calendar-day.empty:hover {
            transform: none;
            box-shadow: none;
        }

        .calendar-day.today {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .calendar-day.selected {
            border-color: #f5576c;
            box-shadow: 0 0 0 3px rgba(245, 87, 108, 0.3);
        }

        .calendar-day .day-number {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .calendar-day .phase-emoji {
            font-size: 1.5em;
        }

        /* Phase colors */
        .calendar-day.menstrual {
            background: linear-gradient(135deg, #ffe0e0 0%, #ffc0c0 100%);
        }

        .calendar-day.follicular {
            background: linear-gradient(135deg, #e0f0ff 0%, #c0d8ff 100%);
        }

        .calendar-day.ovulation {
            background: linear-gradient(135deg, #ffffcc 0%, #ffeb99 100%);
        }

        .calendar-day.luteal {
            background: linear-gradient(135deg, #f0e0ff 0%, #d8c0ff 100%);
        }

        .phase-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .phase-info h3 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .phase-info .day-info {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .phase-description {
            margin-top: 15px;
            font-size: 1em;
            line-height: 1.6;
        }

        .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .activity-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            border-left: 5px solid transparent;
        }

        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .activity-card.optimal {
            border-left-color: #28a745;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
        }

        .activity-card.good {
            border-left-color: #17a2b8;
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
        }

        .activity-card.moderate {
            border-left-color: #ffc107;
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        }

        .activity-card.low {
            border-left-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
        }

        .activity-card h4 {
            color: #495057;
            margin-bottom: 10px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .activity-icon {
            font-size: 1.5em;
        }

        .activity-level {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .level-optimal {
            background: #28a745;
            color: white;
        }

        .level-good {
            background: #17a2b8;
            color: white;
        }

        .level-moderate {
            background: #ffc107;
            color: #333;
        }

        .level-low {
            background: #dc3545;
            color: white;
        }

        .activity-description {
            color: #495057;
            line-height: 1.6;
            font-size: 0.95em;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
            margin-top: 20px;
            display: none;
        }

        .error-message.active {
            display: block;
        }

        footer {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 0.9em;
        }

        .disclaimer {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .disclaimer h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .disclaimer p {
            color: #856404;
            line-height: 1.6;
        }

        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
        }

        .legend-color.menstrual {
            background: linear-gradient(135deg, #ffe0e0 0%, #ffc0c0 100%);
        }

        .legend-color.follicular {
            background: linear-gradient(135deg, #e0f0ff 0%, #c0d8ff 100%);
        }

        .legend-color.ovulation {
            background: linear-gradient(135deg, #ffffcc 0%, #ffeb99 100%);
        }

        .legend-color.luteal {
            background: linear-gradient(135deg, #f0e0ff 0%, #d8c0ff 100%);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .cycle-entry {
                flex-direction: column;
                align-items: flex-start;
            }

            .cycle-entry label {
                min-width: auto;
            }

            .cycle-entry input[type="date"] {
                width: 100%;
            }

            .activities-grid {
                grid-template-columns: 1fr;
            }

            .calendar {
                gap: 5px;
            }

            .calendar-day {
                min-height: 60px;
            }

            .calendar-day .day-number {
                font-size: 1em;
            }

            .calendar-day .phase-emoji {
                font-size: 1.2em;
            }

            .legend {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåô Menstruable</h1>
            <p class="tagline">Optimize Your Activities Based on Your Cycle</p>
        </header>

        <div class="content">
            <div class="disclaimer">
                <h3>üìã Disclaimer</h3>
                <p>This tool provides insights based on popular science and psychology research about hormonal cycles. Individual experiences vary greatly. This is for informational purposes only and should not replace medical advice. Consult healthcare professionals for personalized guidance.</p>
            </div>

            <div class="section">
                <h2>Enter Your Cycle Data</h2>
                <p style="margin-bottom: 20px; color: #6c757d;">Enter the start dates of your last 3+ menstrual periods. More data provides better average calculations.</p>

                <div class="cycle-inputs" id="cycleInputs">
                    <div class="cycle-entry">
                        <label>Cycle 1:</label>
                        <input type="date" class="cycle-date" required>
                    </div>
                    <div class="cycle-entry">
                        <label>Cycle 2:</label>
                        <input type="date" class="cycle-date" required>
                    </div>
                    <div class="cycle-entry">
                        <label>Cycle 3:</label>
                        <input type="date" class="cycle-date" required>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-add" onclick="addCycleInput()">+ Add Another Cycle</button>
                    <button class="btn-primary" onclick="generateCalendar()">Generate Calendar</button>
                    <button class="btn-secondary" onclick="resetForm()">Reset</button>
                </div>

                <div class="error-message" id="errorMessage"></div>
            </div>

            <div class="section results" id="results">
                <h2>Your Cycle Calendar</h2>

                <div class="calendar-container">
                    <div class="calendar-header">
                        <h3 id="monthYear"></h3>
                        <div class="calendar-nav">
                            <button class="btn-nav" onclick="changeMonth(-1)">‚Üê Previous</button>
                            <button class="btn-nav" onclick="changeMonth(1)">Next ‚Üí</button>
                        </div>
                    </div>

                    <div class="calendar" id="calendar"></div>

                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color menstrual"></div>
                            <span>üåë Menstrual</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color follicular"></div>
                            <span>üåì Follicular</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color ovulation"></div>
                            <span>üåï Ovulation</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color luteal"></div>
                            <span>üåó Luteal</span>
                        </div>
                    </div>
                </div>

                <div id="dayInsights"></div>
            </div>
        </div>

        <footer>
            <p>&copy; 2024 Menstruable. Based on hormonal cycle research and popular science.</p>
        </footer>
    </div>

    <script>
        let cycleCount = 3;
        let cycleData = null;
        let currentMonth = new Date();
        let selectedDate = null;

        function addCycleInput() {
            cycleCount++;
            const cycleInputs = document.getElementById('cycleInputs');
            const newEntry = document.createElement('div');
            newEntry.className = 'cycle-entry';
            newEntry.innerHTML = `
                <label>Cycle ${cycleCount}:</label>
                <input type="date" class="cycle-date">
            `;
            cycleInputs.appendChild(newEntry);
        }

        function resetForm() {
            const cycleInputs = document.getElementById('cycleInputs');
            cycleInputs.innerHTML = `
                <div class="cycle-entry">
                    <label>Cycle 1:</label>
                    <input type="date" class="cycle-date" required>
                </div>
                <div class="cycle-entry">
                    <label>Cycle 2:</label>
                    <input type="date" class="cycle-date" required>
                </div>
                <div class="cycle-entry">
                    <label>Cycle 3:</label>
                    <input type="date" class="cycle-date" required>
                </div>
            `;
            cycleCount = 3;
            cycleData = null;
            currentMonth = new Date();
            selectedDate = null;
            document.getElementById('results').classList.remove('active');
            document.getElementById('errorMessage').classList.remove('active');
        }

        function generateCalendar() {
            const dateInputs = document.querySelectorAll('.cycle-date');
            const dates = [];

            // Collect all entered dates
            dateInputs.forEach(input => {
                if (input.value) {
                    dates.push(new Date(input.value));
                }
            });

            // Validation
            if (dates.length < 2) {
                showError('Please enter at least 2 cycle start dates to calculate insights.');
                return;
            }

            // Sort dates
            dates.sort((a, b) => a - b);

            // Calculate average cycle length
            let cycleLengths = [];
            for (let i = 0; i < dates.length - 1; i++) {
                const diff = Math.round((dates[i + 1] - dates[i]) / (1000 * 60 * 60 * 24));
                cycleLengths.push(diff);
            }

            const avgCycleLength = Math.round(cycleLengths.reduce((a, b) => a + b, 0) / cycleLengths.length);

            // Validate cycle length
            if (avgCycleLength < 21 || avgCycleLength > 35) {
                showError('Calculated average cycle length is outside normal range (21-35 days). Please verify your dates or consult a healthcare provider.');
                return;
            }

            // Store cycle data
            cycleData = {
                lastPeriod: dates[dates.length - 1],
                avgCycleLength: avgCycleLength
            };

            // Show results and render calendar
            document.getElementById('errorMessage').classList.remove('active');
            document.getElementById('results').classList.add('active');
            currentMonth = new Date();
            renderCalendar();
            document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function changeMonth(delta) {
            currentMonth.setMonth(currentMonth.getMonth() + delta);
            renderCalendar();
        }

        function renderCalendar() {
            const year = currentMonth.getFullYear();
            const month = currentMonth.getMonth();

            // Set month/year header
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                              'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('monthYear').textContent = `${monthNames[month]} ${year}`;

            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay();

            // Build calendar
            let calendarHTML = '';

            // Day headers
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                calendarHTML += `<div class="calendar-day-header">${day}</div>`;
            });

            // Empty cells before first day
            for (let i = 0; i < startingDayOfWeek; i++) {
                calendarHTML += '<div class="calendar-day empty"></div>';
            }

            // Days of month
            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(year, month, day);
                const cycleDay = getCycleDay(date);
                const phase = determinePhase(cycleDay, cycleData.avgCycleLength);
                const isToday = isSameDay(date, new Date());
                const isSelected = selectedDate && isSameDay(date, selectedDate);

                const phaseClass = phase.name.toLowerCase().split(' ')[0];
                const todayClass = isToday ? 'today' : '';
                const selectedClass = isSelected ? 'selected' : '';

                calendarHTML += `
                    <div class="calendar-day ${phaseClass} ${todayClass} ${selectedClass}"
                         onclick="selectDate(new Date(${year}, ${month}, ${day}))">
                        <div class="day-number">${day}</div>
                        <div class="phase-emoji">${phase.emoji}</div>
                    </div>
                `;
            }

            document.getElementById('calendar').innerHTML = calendarHTML;
        }

        function getCycleDay(date) {
            const daysSinceLastPeriod = Math.round((date - cycleData.lastPeriod) / (1000 * 60 * 60 * 24));
            let cycleDay = daysSinceLastPeriod % cycleData.avgCycleLength;
            if (cycleDay <= 0) {
                cycleDay += cycleData.avgCycleLength;
            }
            return cycleDay;
        }

        function isSameDay(date1, date2) {
            return date1.getDate() === date2.getDate() &&
                   date1.getMonth() === date2.getMonth() &&
                   date1.getFullYear() === date2.getFullYear();
        }

        function selectDate(date) {
            selectedDate = date;
            renderCalendar();
            displayDayInsights(date);
        }

        function displayDayInsights(date) {
            const cycleDay = getCycleDay(date);
            const phase = determinePhase(cycleDay, cycleData.avgCycleLength);
            const activities = getActivityInsights(phase.name);

            const dateStr = date.toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            const insightsHTML = `
                <div class="phase-info">
                    <h3>${phase.emoji} ${phase.name}</h3>
                    <div class="day-info">${dateStr}</div>
                    <div class="day-info">Day ${cycleDay} of ${cycleData.avgCycleLength}-day cycle</div>
                    <div class="phase-description">${phase.description}</div>
                </div>
                <div class="activities-grid">
                    ${activities.map(activity => `
                        <div class="activity-card ${activity.level.toLowerCase()}">
                            <h4><span class="activity-icon">${activity.icon}</span>${activity.name}</h4>
                            <span class="activity-level level-${activity.level.toLowerCase()}">${activity.level}</span>
                            <p class="activity-description">${activity.description}</p>
                        </div>
                    `).join('')}
                </div>
            `;

            document.getElementById('dayInsights').innerHTML = insightsHTML;
            document.getElementById('dayInsights').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function determinePhase(day, cycleLength) {
            const ovulationDay = Math.round(cycleLength - 14);

            if (day >= 1 && day <= 5) {
                return {
                    name: 'Menstrual Phase',
                    description: 'Hormone levels are at their lowest. Energy may be lower, but this can be a time of introspection and renewal.',
                    emoji: 'üåë'
                };
            } else if (day > 5 && day < ovulationDay - 2) {
                return {
                    name: 'Follicular Phase',
                    description: 'Estrogen is rising, bringing increased energy, creativity, and optimism. Great time for new projects and challenges.',
                    emoji: 'üåì'
                };
            } else if (day >= ovulationDay - 2 && day <= ovulationDay + 2) {
                return {
                    name: 'Ovulation Phase',
                    description: 'Peak estrogen and testosterone levels. Maximum energy, confidence, and social connection. Peak fertility window.',
                    emoji: 'üåï'
                };
            } else {
                return {
                    name: 'Luteal Phase',
                    description: 'Progesterone rises then falls. Energy gradually decreases. Good for detailed work, organization, and completion of projects.',
                    emoji: 'üåó'
                };
            }
        }

        function getActivityInsights(phase) {
            const activities = {
                'Menstrual Phase': [
                    { name: 'Creative Work', icon: 'üé®', level: 'Moderate', description: 'Introspective creativity and journaling are favored. Avoid high-pressure creative deadlines.' },
                    { name: 'Scholarly Activities', icon: 'üìö', level: 'Moderate', description: 'Good for reflective reading and research. Comprehension may be slower but deeper.' },
                    { name: 'Physical Exercise', icon: 'üí™', level: 'Low', description: 'Focus on gentle movement: yoga, walking, stretching. Avoid intense workouts.' },
                    { name: 'Sexual Activity', icon: 'üíï', level: 'Low', description: 'Libido typically lower. Focus on intimacy and emotional connection rather than passion.' },
                    { name: 'Social Events', icon: 'üë•', level: 'Low', description: 'Energy for socializing is reduced. Prefer small, intimate gatherings over large events.' },
                    { name: 'Problem Solving', icon: 'üß©', level: 'Moderate', description: 'Intuitive problem-solving is enhanced. Trust your gut feelings.' },
                    { name: 'Public Speaking', icon: 'üé§', level: 'Low', description: 'Confidence may be lower. Prepare extra thoroughly if presentations are necessary.' },
                    { name: 'Starting New Projects', icon: 'üöÄ', level: 'Low', description: 'Better to plan and strategize rather than launch new initiatives.' },
                    { name: 'Meditation & Reflection', icon: 'üßò', level: 'Optimal', description: 'Perfect time for introspection, meditation, and connecting with inner wisdom.' },
                    { name: 'Detailed Analysis', icon: 'üîç', level: 'Good', description: 'Careful, methodical analysis is well-suited to this contemplative phase.' },
                    { name: 'Networking', icon: 'ü§ù', level: 'Low', description: 'Making new connections may feel draining. Focus on deepening existing relationships.' },
                    { name: 'Decision Making', icon: '‚öñÔ∏è', level: 'Moderate', description: 'Intuition is strong but energy is low. Good for personal decisions, less so for quick business calls.' },
                    { name: 'Learning New Skills', icon: 'üìñ', level: 'Moderate', description: 'Absorption of new information is decent but may require more breaks.' },
                    { name: 'Competitive Activities', icon: 'üèÜ', level: 'Low', description: 'Competitive drive is reduced. Focus on personal bests rather than competing with others.' }
                ],
                'Follicular Phase': [
                    { name: 'Creative Work', icon: 'üé®', level: 'Optimal', description: 'Peak creativity and innovative thinking. Excellent time for brainstorming and creative projects.' },
                    { name: 'Scholarly Activities', icon: 'üìö', level: 'Optimal', description: 'Enhanced focus, memory, and learning ability. Tackle challenging material now.' },
                    { name: 'Physical Exercise', icon: 'üí™', level: 'Good', description: 'Energy is building. Great for cardio, strength training, and trying new fitness routines.' },
                    { name: 'Sexual Activity', icon: 'üíï', level: 'Good', description: 'Libido is increasing along with confidence and attractiveness.' },
                    { name: 'Social Events', icon: 'üë•', level: 'Optimal', description: 'High social energy and charisma. Perfect for parties, networking, and making new friends.' },
                    { name: 'Problem Solving', icon: 'üß©', level: 'Optimal', description: 'Cognitive function is enhanced. Excellent for tackling complex problems.' },
                    { name: 'Public Speaking', icon: 'üé§', level: 'Good', description: 'Growing confidence and verbal fluency. Schedule important presentations now.' },
                    { name: 'Starting New Projects', icon: 'üöÄ', level: 'Optimal', description: 'Perfect timing for launching new ventures and taking on challenges.' },
                    { name: 'Meditation & Reflection', icon: 'üßò', level: 'Moderate', description: 'Energy is outward-focused. May find it harder to sit still for long periods.' },
                    { name: 'Detailed Analysis', icon: 'üîç', level: 'Good', description: 'Sharp mental clarity makes detailed work easier and more efficient.' },
                    { name: 'Networking', icon: 'ü§ù', level: 'Optimal', description: 'Charisma and energy are high. Great for expanding professional and social networks.' },
                    { name: 'Decision Making', icon: '‚öñÔ∏è', level: 'Good', description: 'Optimism is high but be careful not to overcommit. Balance enthusiasm with practicality.' },
                    { name: 'Learning New Skills', icon: 'üìñ', level: 'Optimal', description: 'Brain is primed for learning. Take classes, learn languages, master new software.' },
                    { name: 'Competitive Activities', icon: 'üèÜ', level: 'Good', description: 'Competitive spirit is building. Good time for competitions and challenges.' }
                ],
                'Ovulation Phase': [
                    { name: 'Creative Work', icon: 'üé®', level: 'Optimal', description: 'Maximum creative energy and confidence. Share your work, pitch ideas, make bold creative choices.' },
                    { name: 'Scholarly Activities', icon: 'üìö', level: 'Good', description: 'Communication and collaboration are favored over solitary study.' },
                    { name: 'Physical Exercise', icon: 'üí™', level: 'Optimal', description: 'Peak physical performance. Push for PRs, try intense workouts, maximum endurance.' },
                    { name: 'Sexual Activity', icon: 'üíï', level: 'Optimal', description: 'Libido peaks. Feeling most attractive and confident. Prime fertility window.' },
                    { name: 'Social Events', icon: 'üë•', level: 'Optimal', description: 'Maximum charisma and social magnetism. Schedule important social events now.' },
                    { name: 'Problem Solving', icon: 'üß©', level: 'Good', description: 'Great for collaborative problem-solving and verbal reasoning.' },
                    { name: 'Public Speaking', icon: 'üé§', level: 'Optimal', description: 'Peak confidence and verbal fluency. Best time for presentations and performances.' },
                    { name: 'Starting New Projects', icon: 'üöÄ', level: 'Good', description: 'Energy is high but may be scattered. Better for promoting existing projects than planning new ones.' },
                    { name: 'Meditation & Reflection', icon: 'üßò', level: 'Low', description: 'Energy is very outward-focused. Meditation may feel challenging or restless.' },
                    { name: 'Detailed Analysis', icon: 'üîç', level: 'Moderate', description: 'May prefer big-picture thinking to detailed analysis. Good for presenting findings.' },
                    { name: 'Networking', icon: 'ü§ù', level: 'Optimal', description: 'Peak charm and communication skills. Make important connections and ask for favors.' },
                    { name: 'Decision Making', icon: '‚öñÔ∏è', level: 'Good', description: 'Confidence is high. Good for assertive decisions but beware of overconfidence.' },
                    { name: 'Learning New Skills', icon: 'üìñ', level: 'Good', description: 'Social learning and workshops are ideal. May prefer interactive to solitary learning.' },
                    { name: 'Competitive Activities', icon: 'üèÜ', level: 'Optimal', description: 'Peak competitive performance and drive. Enter competitions and aim high.' }
                ],
                'Luteal Phase': [
                    { name: 'Creative Work', icon: 'üé®', level: 'Moderate', description: 'Early luteal: good for editing and refining. Late luteal: energy decreases, focus on completion.' },
                    { name: 'Scholarly Activities', icon: 'üìö', level: 'Good', description: 'Excellent for detail-oriented work, editing, proofreading, and organizing research.' },
                    { name: 'Physical Exercise', icon: 'üí™', level: 'Moderate', description: 'Early: still good energy. Late: switch to moderate exercise, listen to your body.' },
                    { name: 'Sexual Activity', icon: 'üíï', level: 'Moderate', description: 'Gradually decreasing libido. May crave emotional intimacy over physical passion.' },
                    { name: 'Social Events', icon: 'üë•', level: 'Moderate', description: 'Social energy decreases. Prefer quality time with close friends over large gatherings.' },
                    { name: 'Problem Solving', icon: 'üß©', level: 'Good', description: 'Great for noticing flaws and problems. Critical thinking is enhanced.' },
                    { name: 'Public Speaking', icon: 'üé§', level: 'Moderate', description: 'Confidence gradually wanes. Schedule in early luteal phase if possible.' },
                    { name: 'Starting New Projects', icon: 'üöÄ', level: 'Low', description: 'Better for finishing existing projects than starting new ones.' },
                    { name: 'Meditation & Reflection', icon: 'üßò', level: 'Good', description: 'Energy turns inward. Good time for reflection, especially in late luteal phase.' },
                    { name: 'Detailed Analysis', icon: 'üîç', level: 'Optimal', description: 'Peak attention to detail. Perfect for quality control, editing, and catching errors.' },
                    { name: 'Networking', icon: 'ü§ù', level: 'Moderate', description: 'Better for maintaining relationships than building new ones.' },
                    { name: 'Decision Making', icon: '‚öñÔ∏è', level: 'Good', description: 'Critical thinking is sharp. Good for spotting risks and potential problems.' },
                    { name: 'Learning New Skills', icon: 'üìñ', level: 'Moderate', description: 'Focus and patience for detailed learning. Good for mastering technical details.' },
                    { name: 'Competitive Activities', icon: 'üèÜ', level: 'Moderate', description: 'Competitive drive decreases. Focus on personal improvement and completion of goals.' }
                ]
            };

            return activities[phase] || [];
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.classList.add('active');
            document.getElementById('results').classList.remove('active');
        }
    </script>
</body>
</html>